set -g mouse on
set-option -g display-panes-time 350
set-window-option -g mode-keys vi

unbind C-b
set-option -g prefix C-a
bind C-a send-prefix

## WINDOWS
# sane window breaks and joins without prefix
bind -n C-M-b break-pane
bind -n C-M-v join-pane -h -s :. -t :-1

# resize windows like in vim without prefix
bind -n M-, resize-pane -L 2
bind -n M-. resize-pane -R 2
bind -n M-- resize-pane -D 2
bind -n M-= resize-pane -U 2

# switch windows using Alt-Shift-arrow without prefix
bind -n M-J previous-window
bind -n M-K next-window

## PANES
# switch panes using Alt-arrow without prefix
bind -n M-h display-panes \; select-pane -L
bind -n M-l display-panes \; select-pane -R
bind -n M-k display-panes \; select-pane -U
bind -n M-j display-panes \; select-pane -D

# sane split commands using Alt-v Alt-h without prefix
bind -n M-v display-panes \; split-window -h
bind -n M-b display-panes \; split-window -v

# copy paste like vim
bind ESCAPE copy-mode
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

# reload config file 
unbind r
bind r source-file ~/.tmux/reset.conf \; source-file ~/.tmux/tmux.conf \; display-message "RR config"

# look good
set -g default-terminal "screen-256color"

if-shell "env | grep -q SSH_C" "set-option -g status-bg colour52" "set-option -g status-bg colour64"
set-option -g status-fg white

setw -g window-status-current-bg colour32
setw -g window-status-current-fg white

setw -g pane-border-status top
set-option -g pane-border-format " #P: #{pane_current_command} "

# loud or quiet?
set-option -g visual-activity on
set-option -g visual-bell on
set-option -g visual-silence off
set-window-option -g monitor-activity off
set-option -g bell-action none

set -g @tpm_plugins ' \
    tmux-plugins/tpm  \
    tmux-plugins/tmux-sensible \
    tmux-plugins/tmux-resurrect\
    tmux-plugins/tmux-yank \
'

run '~/.tmux/plugins/tpm/tpm'

